<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Ext.form.HtmlEditor-demo Demo</title>
	<link rel="stylesheet" type="text/css" href="../res/js/ext2/resources/css/ext-all.css" />
	<link rel="stylesheet" type="text/css" href="../res/js/ext2/resources/css/patch.css" />
	<link rel="stylesheet" type="text/css" href="../res/css/runTime.css" />
	
 	<script type="text/javascript" src="../res/js/ext2/adapter/ext/ext-base.js"></script>
	<script type="text/javascript" src="../res/js/ext2/ext-all-debug.js?20130402"></script>	
	<script type="text/javascript" src="../res/js/ext2/ext-lang-zh_CN.js"></script>
	<script type="text/javascript" src="../res/js/ext_base_extension.js"></script>
	<script type="text/javascript" src="../res/js/controls/Ext.form.HtmlEditor2.js"></script>
	<script type="text/javascript" src="../res/js/controls/Ext.ux.ImageCutter.js"></script>
	<script type="text/javascript" src="../res/js/controls/Ext.ux.UploadField.js"></script>
<style>
.htmleditor-char-item{width:10px;float:left}
</style>
</head>
<body>
<script>
Ext.onReady(function(){
	Ext.BLANK_IMAGE_URL = "../res/js/ext2/resources/images/default/s.gif";
	Ext.lOADING_IMAGE_URL= "../res/js/ext2/resources/images/default/grid/wait.gif"; //resources\images\default\grid
	Ext.QuickTips.init();
	Ext.form.Field.prototype.msgTarget = 'qtip';
	
	
	new Ext.Viewport({
		layout:"fit",
		items:[{
			xtype:'form',
			labelWidth:80,
			labelAlign:'left',
			layout:'xform',
			autoScroll:true,
			frame:true,
			itemCls:"itemStyle5",
			items:[{
				fieldLabel :'标题',
				xtype:'textfield',
				name:'title',
				anchor:'95%'
			},{
				fieldLabel :'正文',
				xtype:'htmleditor2',
				fontFamilies : ["宋体","黑体","隶书",'Arial', 'Courier New','Tahoma', 'Times New Roman','Verdana'],
				resRoot:'../res/',
				name:'content',
				id:"htmleditor_2",	
				autoHeight: false,
				style:'background:url("http://y2.ifengimg.com/9949a678442334cc/2013/0910/rule.png") no-repeat scroll;background-attachment:scoll;',
				height: 800,
				//width: 800,
				anchor:'95%',
				value:'<p>我的儿哎～<p>',
				editorStyleInject:'',
				editMode:1,//默认编辑模式 1:HTML编辑 2：源码编辑
				customButtons:{
					"tb1":[{
						icon:"../res/img/image.png",
						tooltip:'插入评论链接',
						handler : function(){
							this.insertAtCursor('插入评论链接');
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						sourceEditStateEnable:true,//在源码编辑状态下是否有效
						handler : function(){
							if(this.sourceEditMode){
								this.insertValueAtCursor('<p>插入评论链接</p>');
							}else{
								this.insertAtCursor('<p>插入评论链接1</p><p>插入评论链接2</p>');
							}
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(this.sourceEditMode){
								this.insertValueAtCursor('<p>插入评论链接</p>');
							}else{
								this.insertAtCursor('<p>插入评论链接1</p><p>插入评论链接2</p>');
							}
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(!this.activated){
								return;
							}
							this.insertAtCursor('插入评论链接');
							this.deferFocus();
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(!this.activated){
								return;
							}
							this.insertAtCursor('插入评论链接');
							this.deferFocus();
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(!this.activated){
								return;
							}
							this.insertAtCursor('插入评论链接');
							this.deferFocus();
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(!this.activated){
								return;
							}
							this.insertAtCursor('插入评论链接');
							this.deferFocus();
						}
					},{
						text: '评论',
						tooltip:'插入评论链接',
						handler : function(){
							if(!this.activated){
								return;
							}
							this.insertAtCursor('插入评论链接');
							this.deferFocus();
						}
					},{
						text:'上传&裁图',
						tooltip:'上传图片并裁图',
						//sourceEditStateEnable:true,//在源码编辑状态下是否有效
						handler : function(obj,e){
							this.uploadAndCutImage(obj,300,300);
						}
					},{
						text:'强力自动排版',
						tooltip:'强力自动排版',
						//sourceEditStateEnable:true,//在源码编辑状态下是否有效
						handler : function(obj,e){
							this.ifengFormat(obj);
						}
					}]
					
				}
			}]
		}]
	});
});
	
</script>
</body>
</html>